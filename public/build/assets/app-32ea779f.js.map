{"version":3,"file":"app-32ea779f.js","sources":["../../frontend/resources/function.js"],"sourcesContent":["(function($) {\n\t\"use strict\";\n\tvar HT = {}; // Khai báo là 1 đối tượng\n\tvar timer;\n\tvar $carousel = $(\".owl-slide\");\n\tvar _token = $('meta[name=\"csrf-token\"]').attr('content');\n\n\tHT.swiperOption = (setting) => {\n\t\t// console.log(setting);\n\t\tlet option = {}\n\t\tif(setting.animation.length){\n\t\t\toption.effect = setting.animation;\n\t\t}\t\n\t\tif(setting.arrow === 'accept'){\n\t\t\toption.navigation = {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t}\n\t\t}\n\t\tif(setting.autoplay === 'accept'){\n\t\t\toption.autoplay = {\n\t\t\t    delay: 50000,\n\t\t\t    disableOnInteraction: false,\n\t\t\t}\n\t\t}\n\t\tif(setting.navigate === 'dots'){\n\t\t\toption.pagination = {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t}\n\t\t}\n\t\treturn option\n\t}\n\t\n\t/* MAIN VARIABLE */\n\tHT.swiper = () => {\n\t\tvar slideContainer = document.querySelector(\".panel-slide .swiper-container\");\n\t\tif (!slideContainer) return;\n\t\t\n\t\tvar slides = slideContainer.querySelectorAll('.swiper-slide');\n\t\tvar slideCount = slides.length;\n\t\t// Chỉ bật loop nếu có ít nhất 2 slides (vì slidesPerView: 1)\n\t\tvar enableLoop = slideCount >= 2;\n\t\t\n\t\tvar swiper = new Swiper(\".panel-slide .swiper-container\", {\n\t\t\tloop: enableLoop,\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t},\n            autoplay: enableLoop ? {\n                delay : 3000,\n            } : false,\n\t\t\tspaceBetween: 15,\n\t\t\tslidesPerView: 1.5,\n\t\t\tbreakpoints: {\n\t\t\t\t100: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t500: {\n\t\t\t\t  slidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t768: {\n\t\t\t\t  slidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t\t\n\t\t});\n\t}\n\n\tHT.category = () => {\n\t\tvar slideContainer = document.querySelector(\".panel-category .swiper-container\");\n\t\tif (!slideContainer) return;\n\t\t\n\t\tvar slides = slideContainer.querySelectorAll('.swiper-slide');\n\t\tvar slideCount = slides.length;\n\t\t// Với slidesPerView tối đa là 3, cần ít nhất 6 slides để loop hoạt động tốt\n\t\tvar enableLoop = slideCount >= 6;\n\t\t\n\t\tvar swiper = new Swiper(\".panel-category .swiper-container\", {\n\t\t\tloop: enableLoop,\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t},\n            autoplay: enableLoop ? {\n                delay : 2000,\n            } : false,\n\t\t\tspaceBetween: 15,\n\t\t\tslidesPerView: 1.5,\n\t\t\tbreakpoints: {\n\t\t\t\t415: {\n\t\t\t\t\tslidesPerView: 1.5,\n\t\t\t\t},\n\t\t\t\t500: {\n\t\t\t\t  slidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t768: {\n\t\t\t\t  slidesPerView: 3,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 3,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t\t\n\t\t});\n\t\t\n\t}\n\n\tHT.service = () => {\n\t\tvar slideContainer = document.querySelector('.panel-service-1 .swiper-container');\n\t\tif (!slideContainer) return;\n\t\t\n\t\tvar slides = slideContainer.querySelectorAll('.swiper-slide');\n\t\tvar slideCount = slides.length;\n\t\t// Với slidesPerView tối đa là 1.5, cần ít nhất 3 slides để loop hoạt động tốt\n\t\tvar enableLoop = slideCount >= 3;\n\t\t\n\t\tconst swiper = new Swiper('.panel-service-1 .swiper-container', {\n            centeredSlides: true,\n            loop: enableLoop,\n            speed: 500,\n            slidesPerView: 1.5,\n            spaceBetween: 120,\n            // autoplay: {\n            //     delay: 3000,\n            // },\n            navigation: {\n                nextEl: '.swiper-button-next',\n                prevEl: '.swiper-button-prev',\n            },\n            breakpoints: {\n        \n                640: {\n                    slidesPerView: 2.5,\n                },\n                768: {\n                    slidesPerView: 2.75,\n                },\n                1080: {\n                    slidesPerView: 3.25,\n                },\n                1280: {\n                    slidesPerView: 2.75,\n                },\n            },\n        });\n\t\t\n\t}\n\n\n\tHT.swiperCategory = () => {\n\t\tvar swiper = new Swiper(\".panel-category .swiper-container\", {\n\t\t\tloop: false,\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t},\n\t\t\tspaceBetween: 20,\n\t\t\tslidesPerView: 1.5,\n\t\t\tbreakpoints: {\n\t\t\t\t415: {\n\t\t\t\t\tslidesPerView: 1.5,\n\t\t\t\t},\n\t\t\t\t500: {\n\t\t\t\t  slidesPerView: 2.5,\n\t\t\t\t},\n\t\t\t\t768: {\n\t\t\t\t  slidesPerView: 4,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 5,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t\t\n\t\t});\n\t}\n\n\tHT.swiperAsideFeature = () => {\n\t\tvar swiper = new Swiper(\".aside-feature .swiper-container\", {\n\t\t\tloop: false,\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t},\n\t\t\tspaceBetween: 0,\n\t\t\tslidesPerView: 1,\n\t\t\tbreakpoints: {\n\t\t\t\t415: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t500: {\n\t\t\t\t  slidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t768: {\n\t\t\t\t  slidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t\t\n\t\t});\n\t}\n\n\tHT.productGallery = () => {\n\t\tif ($('.product-gallery-swiper').length) {\n\t\t\tvar productGallerySwiper = new Swiper('.product-gallery-swiper', {\n\t\t\t\tloop: false,\n\t\t\t\tspaceBetween: 0,\n\t\t\t\tslidesPerView: 1,\n\t\t\t\tnavigation: {\n\t\t\t\t\tnextEl: '.product-gallery-swiper .swiper-button-next',\n\t\t\t\t\tprevEl: '.product-gallery-swiper .swiper-button-prev',\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\tHT.swiperBestSeller = () => {\n\t\tvar swiper = new Swiper(\".catalogue-slide .swiper-container\", {\n\t\t\tloop: false,\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t},\n\t\t\tspaceBetween: 20,\n\t\t\tslidesPerView: 2,\n\t\t\tbreakpoints: {\n\t\t\t\t415: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t500: {\n\t\t\t\t  slidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t768: {\n\t\t\t\t  slidesPerView: 3,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 4,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t\t\n\t\t});\n\t}\n\n\tHT.serviceSwiper = () => {\n\t\tvar swiper = new Swiper(\".catalogue-slide .swiper-container\", {\n\t\t\tloop: false,\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t},\n\t\t\tspaceBetween: 20,\n\t\t\tslidesPerView: 4,\n\t\t\tbreakpoints: {\n\t\t\t\t415: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t500: {\n\t\t\t\t  slidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t768: {\n\t\t\t\t  slidesPerView: 3,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 4,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t\t\n\t\t});\n\t}\n\n\tHT.vstepServiceSwiper = () => {\n\t\tvar serviceContainer = document.querySelector(\".panel-vstep-service .service-swiper\");\n\t\tif (!serviceContainer) return;\n\t\t\n\t\tvar slides = serviceContainer.querySelectorAll('.swiper-slide');\n\t\tvar slideCount = slides.length;\n\t\t// Chỉ bật loop nếu có ít nhất 4 slides (vì slidesPerView: 2)\n\t\tvar enableLoop = slideCount >= 4;\n\t\t\n\t\tvar swiper = new Swiper(\".panel-vstep-service .service-swiper\", {\n\t\t\tloop: enableLoop,\n\t\t\tspaceBetween: 30,\n\t\t\tslidesPerView: 1, // Default: 1 slide on mobile\n\t\t\tbreakpoints: {\n\t\t\t\t640: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t960: {\n\t\t\t\t\tslidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 2,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.panel-vstep-service .service-next',\n\t\t\t\tprevEl: '.panel-vstep-service .service-prev',\n\t\t\t},\n\t\t});\n\t}\n\n\tHT.coursesSwiper = () => {\n\t\tvar coursesContainer = document.querySelector(\".panel-vstep-courses .courses-swiper\");\n\t\tif (!coursesContainer) return;\n\t\t\n\t\tvar slides = coursesContainer.querySelectorAll('.swiper-slide');\n\t\tvar slideCount = slides.length;\n\t\t// Chỉ bật loop nếu có ít nhất 4 slides (vì slidesPerView: 3)\n\t\tvar enableLoop = slideCount >= 4;\n\t\t\n\t\tvar swiper = new Swiper(\".panel-vstep-courses .courses-swiper\", {\n\t\t\tloop: enableLoop,\n\t\t\tspaceBetween: 30,\n\t\t\tslidesPerView: 1, // Default: 1 slide on mobile\n\t\t\tbreakpoints: {\n\t\t\t\t640: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t960: {\n\t\t\t\t\tslidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 3,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.panel-vstep-courses .courses-next',\n\t\t\t\tprevEl: '.panel-vstep-courses .courses-prev',\n\t\t\t},\n\t\t});\n\t}\n\n\tHT.feedbackSwiper = () => {\n\t\tvar feedbackContainer = document.querySelector(\".panel-feedback .feedback-swiper\");\n\t\tif (!feedbackContainer) return;\n\t\t\n\t\tvar slides = feedbackContainer.querySelectorAll('.swiper-slide');\n\t\tvar slideCount = slides.length;\n\t\t// Chỉ bật loop nếu có ít nhất 4 slides (vì slidesPerView: 3)\n\t\tvar enableLoop = slideCount >= 4;\n\t\t\n\t\tvar swiper = new Swiper(\".panel-feedback .feedback-swiper\", {\n\t\t\tloop: enableLoop,\n\t\t\tspaceBetween: 30,\n\t\t\tslidesPerView: 1, // Default: 1 slide on mobile\n\t\t\tbreakpoints: {\n\t\t\t\t640: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t960: {\n\t\t\t\t\tslidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 3,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.panel-feedback .feedback-next',\n\t\t\t\tprevEl: '.panel-feedback .feedback-prev',\n\t\t\t},\n\t\t});\n\t}\n\n\tHT.realImagesSwiper = () => {\n\t\tvar realImagesContainer = document.querySelector(\".intro-real-images .real-images-swiper\");\n\t\tif (!realImagesContainer) return;\n\t\t\n\t\tvar slides = realImagesContainer.querySelectorAll('.swiper-slide');\n\t\tvar slideCount = slides.length;\n\t\tvar enableLoop = slideCount >= 6; // Cần ít nhất 6 slides cho slidesPerView: 5\n\t\t\n\t\tvar swiper = new Swiper(\".intro-real-images .real-images-swiper\", {\n\t\t\tloop: enableLoop,\n\t\t\tspaceBetween: 20,\n\t\t\tslidesPerView: 1, // Default: 1 slide on mobile\n\t\t\tbreakpoints: {\n\t\t\t\t640: {\n\t\t\t\t\tslidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t960: {\n\t\t\t\t\tslidesPerView: 3,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 5,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.intro-real-images .real-images-next',\n\t\t\t\tprevEl: '.intro-real-images .real-images-prev',\n\t\t\t},\n\t\t});\n\t}\n\n\tHT.lecturersSwiper = () => {\n\t\tvar lecturersContainer = document.querySelector(\".intro-lecturers .lecturers-swiper\");\n\t\tif (!lecturersContainer) return;\n\t\t\n\t\tvar slides = lecturersContainer.querySelectorAll('.swiper-slide');\n\t\tvar slideCount = slides.length;\n\t\tvar enableLoop = slideCount >= 5; // Cần ít nhất 5 slides cho slidesPerView: 4\n\t\t\n\t\tvar swiper = new Swiper(\".intro-lecturers .lecturers-swiper\", {\n\t\t\tloop: enableLoop,\n\t\t\tspaceBetween: 20,\n\t\t\tslidesPerView: 1, // Default: 1 slide on mobile\n\t\t\tbreakpoints: {\n\t\t\t\t640: {\n\t\t\t\t\tslidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t960: {\n\t\t\t\t\tslidesPerView: 3,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 4,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.intro-lecturers .lecturers-next',\n\t\t\t\tprevEl: '.intro-lecturers .lecturers-prev',\n\t\t\t},\n\t\t});\n\t}\n\n\tHT.partnersSwiper = () => {\n\t\tvar partnersContainer = document.querySelector(\".panel-partners .partners-swiper\");\n\t\tif (!partnersContainer) return;\n\t\t\n\t\tvar slides = partnersContainer.querySelectorAll('.swiper-slide');\n\t\tvar slideCount = slides.length;\n\t\t// Chỉ bật loop nếu có ít nhất 5 slides (vì slidesPerView: 4)\n\t\tvar enableLoop = slideCount >= 5;\n\t\t\n\t\tvar swiper = new Swiper(\".panel-partners .partners-swiper\", {\n\t\t\tloop: enableLoop,\n\t\t\tspaceBetween: 30,\n\t\t\tslidesPerView: 1,\n\t\t\tbreakpoints: {\n\t\t\t\t640: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t960: {\n\t\t\t\t\tslidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 4,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.panel-partners .partners-next',\n\t\t\t\tprevEl: '.panel-partners .partners-prev',\n\t\t\t},\n\t\t});\n\t}\n\n\t\n\tHT.wow = () => {\n\t\tvar wow = new WOW(\n\t\t\t{\n\t\t\t  boxClass:     'wow',      // animated element css class (default is wow)\n\t\t\t  animateClass: 'animated', // animation css class (default is animated)\n\t\t\t  offset:       0,          // distance to the element when triggering the animation (default is 0)\n\t\t\t  mobile:       true,       // trigger animations on mobile devices (default is true)\n\t\t\t  live:         true,       // act on asynchronously loaded content (default is true)\n\t\t\t  callback:     function(box) {\n\t\t\t\t// the callback is fired every time an animation is started\n\t\t\t\t// the argument that is passed in is the DOM node being animated\n\t\t\t  },\n\t\t\t  scrollContainer: null,    // optional scroll container selector, otherwise use window,\n\t\t\t  resetAnimation: true,     // reset animation on end (default is true)\n\t\t\t}\n\t\t  );\n\t\t  wow.init();\n\n\n\t}// arrow function\n\n\tHT.niceSelect = () => {\n\t\tif($('.nice-select').length){\n\t\t\t$('.nice-select').niceSelect();\n\t\t}\n\t\t\n\t}\n\n\tHT.select2 = () => {\n\t\tif($('.setupSelect2').length){\n\t\t\t$('.setupSelect2').select2();\n\t\t}\n\t\t\n\t}\n\n\n\tHT.loadDistribution = () => {\n\t\t$(document).on('click', '.agency-item', function(){\n\t\t\tlet _this = $(this)\n\n\t\t\t$('.agency-item').removeClass('active')\n\t\t\t_this.addClass('active')\n\n\t\t\t$.ajax({\n\t\t\t\turl: 'ajax/distribution/getMap', \n\t\t\t\ttype: 'GET', \n\t\t\t\tdata: {\n\t\t\t\t\tid: _this.attr('data-id')\n\t\t\t\t}, \n\t\t\t\tdataType: 'json', \n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t$('.agency-map').html(res)\n\t\t\t\t},\n\t\t\t});\n\n\t\t})\n\t}\n\n    HT.skeleton = () => {\n        \n        document.addEventListener(\"DOMContentLoaded\", function() {\n            // Lựa chọn tất cả các ảnh cần lazy load\n            const lazyImages = document.querySelectorAll('.lazy-image');\n            \n            // Tạo Intersection Observer\n            const observer = new IntersectionObserver((entries, observer) => {\n                entries.forEach(entry => {\n                    // Khi phần tử trở nên visible\n                    if (entry.isIntersecting) {\n                        const img = entry.target;\n                        // Lấy nguồn ảnh từ thuộc tính data-src\n                        const src = img.dataset.src;\n                        \n                        // Tạo ảnh mới và thiết lập trình xử lý sự kiện onload\n                        const newImg = new Image();\n                        newImg.onload = function() {\n                            // Khi ảnh đã tải xong, gán src và thêm class loaded\n                            img.src = src;\n                            img.classList.add('loaded');\n                            \n                            // Ẩn skeleton loading\n                            const parent = img.closest('.image');\n                            if (parent) {\n                                const skeleton = parent.querySelector('.skeleton-loading');\n                                if (skeleton) {\n                                    skeleton.style.display = 'none';\n                                }\n                            }\n                            \n                            // Ngừng quan sát phần tử này\n                            observer.unobserve(img);\n                        };\n                        \n                        // Bắt đầu tải ảnh\n                        newImg.src = src;\n                    }\n                });\n            }, {\n                // Tùy chọn: thiết lập ngưỡng và root\n                rootMargin: '0px 0px 50px 0px', // Tải trước ảnh khi chúng cách 50px từ viewport\n                threshold: 0.1 // Kích hoạt khi ít nhất 10% của ảnh trở nên visible\n            });\n            \n            // Quan sát mỗi ảnh\n            lazyImages.forEach(img => {\n                observer.observe(img);\n            });\n        });\n    }\n\n\n\tHT.removePagination = () => {\n\t\t$('.filter-content').on('slide', function() {\n\t\t\t$('.uk-flex .pagination').hide();\n\t\t});\n\t};\n\n\n\tHT.wrapTable = () => {\n\t\tvar width = $(window).width()\n\t\tif(width < 600){\n\t\t\t$('table').wrap('<div class=\"uk-overflow-container\"></div>')\n\t\t}\n\t}\n   \n    HT.addVoucher = () => {\n        $(document).on('click','.info-voucher', function(e){\n            e.preventDefault()\n            let _this = $(this)\n            _this.toggleClass('active');\n        })\n    }\n\n    HT.advise = () => {\n        $(document).on('click','.suggest-aj button', function(e){\n            e.preventDefault()\n            let _this = $(this)\n            let option  = {\n\t\t\t\tname : $('#suggest input[name=name]').val(),\n                gender : $('#suggest input[name=gender]').val(),\n\t\t\t\tphone : $('#suggest input[name=phone]').val(),\n\t\t\t\taddress: $('#suggest input[name=address]').val(),\n                post_id : $('#suggest input[name=post_id ]').val(),\n                product_id : $('#suggest input[name=product_id ]').val(),\n\t\t\t\t_token: _token,\n\t\t\t}\n            toastr.success('Gửi yêu cầu thành công , chúng tôi sẽ sớm liên hệ vs bạn !', 'Thông báo từ hệ thống')\n\t\t\t$.ajax({\n\t\t\t\turl: 'ajax/contact/advise', \n\t\t\t\ttype: 'POST', \n\t\t\t\tdata: option, \n\t\t\t\tdataType: 'json', \n\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tsuccess: function(res) {\n                    console.log(res)\n\t\t\t\t\tif(res.code === 10){\n                       \n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}, 1000);\n                    }else if(res.status === 422){\n                        let errors = res.messages;\n\t\t\t\t\t\tfor(let field in errors){\n\t\t\t\t\t\t\tlet errorMessage = errors[field];\n\t\t\t\t\t\t\t$('.'+ field + '-error').text(errorMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t\t\n\t\t})\n    }\n\n    HT.scroll = () => {\n        $(document).ready(function() {\n            $('a[href=\"#panel-contact\"]').on('click', function(event) {\n                event.preventDefault();\n                $('html, body').animate({\n                    scrollTop: $('#panel-contact').offset().top - 50\n                }, 800); \n            });\n        });\n    }\n\n    HT.requestConsult = () => {\n        $(document).on('click', '#advise button', function(e){\n            e.preventDefault()\n            let phone =  $('#advise input[name=phone]').val()\n            if (!phone || !/^(0[3|5|7|8|9][0-9]{8})$/.test(phone)) {\n                alert('Vui lòng nhập số điện thoại hợp lệ (10 chữ số, bắt đầu bằng 0).');\n                return;\n            }\n            toastr.success('Gửi thông tin thành công. Chúng tôi sẽ liên hệ lại trong thời gian sớm nhất', 'Thông báo từ hệ thống')\n            $.ajax({\n\t\t\t\turl: 'ajax/contact/requestConsult', \n\t\t\t\ttype: 'POST', \n\t\t\t\tdata: {\n\t\t\t\t\t'phone' : phone,\n                    '_token' : _token\n\t\t\t\t}, \n\t\t\t\tdataType: 'json', \n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif(res.status == true){\n                        // toastr.success(res.messages, 'Thông báo từ hệ thống !')\n                        $('#advise input[name=phone]').val('')\n                    }\n\t\t\t\t},\n\t\t\t});\n        })\n    }\n\n\n    HT.scrollHeading = () => {\n        $(document).on('click', '.widget-toc a', function(e) {\n            e.preventDefault(); // Ngăn hành vi mặc định của thẻ a\n            \n            let _this = $(this);\n            let href = _this.attr('href'); // Lấy giá trị href\n            \n            // Kiểm tra nếu href bắt đầu bằng #\n            if (href && href.startsWith('#')) {\n                let targetId = href.substring(1); // Loại bỏ dấu # đầu tiên\n                \n                // Sử dụng document.getElementById thay vì jQuery selector để tránh lỗi\n                let targetElement = document.getElementById(targetId);\n                \n                // Kiểm tra xem element có tồn tại không\n                if (targetElement) {\n                    // Chuyển về jQuery object để sử dụng offset()\n                    let $targetElement = $(targetElement);\n                    \n                    // Cuộn mượt đến element\n                    $('html, body').animate({\n                        scrollTop: $targetElement.offset().top - 100 // Trừ 100px để tạo khoảng cách\n                    }, 800); // 800ms cho hiệu ứng cuộn mượt\n                    \n                    // Thêm class active cho liên kết được click\n                    $('.widget-toc a').removeClass('active');\n                    _this.addClass('active');\n                } else {\n                    console.log('Không tìm thấy element với ID:', targetId);\n                }\n            }\n        });\n    }\n\n\n    HT.highlightTocOnScroll = () => {\n        $(window).on('scroll', function() {\n            let scrollTop = $(window).scrollTop();\n            \n            $('.widget-toc a').each(function() {\n                let href = $(this).attr('href');\n                if (href && href.startsWith('#')) {\n                    let targetId = href.substring(1);\n                    let targetElement = document.getElementById(targetId); // Sử dụng getElementById\n                    \n                    if (targetElement) {\n                        let $targetElement = $(targetElement);\n                        let elementTop = $targetElement.offset().top - 150;\n                        let elementBottom = elementTop + $targetElement.outerHeight();\n                        \n                        if (scrollTop >= elementTop && scrollTop < elementBottom) {\n                            $('.widget-toc a').removeClass('active');\n                            $(this).addClass('active');\n                        }\n                    }\n                }\n            });\n        });\n    }\n\n    HT.updateHeaderColor = (slideIndex) => {\n        const updateHeaderBasedOnSlide = (currentSlideIndex) => {\n            const $slides = $('.panel-slide .swiper-slide');\n            const $header = $('.pc-header');\n            \n            console.log('Updating header color for slide index:', currentSlideIndex);\n            \n            const $currentSlide = $slides.eq(currentSlideIndex);\n            \n            if($currentSlide.length) {\n                console.log('Current slide classes:', $currentSlide.attr('class'));\n                \n                if($currentSlide.hasClass('slide-item-2')) {\n                    console.log('Slide 2 active - adding white-text-mode class');\n                    \n                    // CHỈ CẦN ADD CLASS - CSS SẼ LO PHẦN CÒN LẠI\n                    $header.addClass('white-text-mode');\n                    \n                } else {\n                    console.log('Other slide active - removing white-text-mode class');\n                    \n                    // CHỈ CẦN REMOVE CLASS\n                    $header.removeClass('white-text-mode');\n                }\n            }\n        };\n        \n        if(typeof slideIndex !== 'undefined') {\n            updateHeaderBasedOnSlide(slideIndex);\n        }\n        \n        return updateHeaderBasedOnSlide;\n    };\n\n    HT.manualSlide = () => {\n        if($('.panel-slide').length){\n            console.log('Setting up manual slide system...');\n            \n            let currentSlide = 0;\n            let $slides = $('.panel-slide .swiper-slide');\n            let totalSlides = $slides.length;\n            let $container = $('.panel-slide .swiper-container');\n            let $wrapper = $('.panel-slide .swiper-wrapper');\n            \n            // Initialize header color updater\n            const updateHeaderColor = HT.updateHeaderColor();\n            \n            console.log('Total slides found:', totalSlides);\n            \n            if(totalSlides <= 1) {\n                console.log('Only 1 slide, hiding navigation');\n                $('.panel-slide .swiper-button-next, .panel-slide .swiper-button-prev').hide();\n                return;\n            }\n            \n            // Reset CSS của wrapper và slides\n            $wrapper.css({\n                'display': 'block',\n                'position': 'relative',\n                'width': '100%',\n                'height': '100%'\n            });\n            \n            // Thiết lập slides - ẩn tất cả trừ slide đầu\n            $slides.each(function(index) {\n                $(this).css({\n                    'position': 'absolute',\n                    'top': '0',\n                    'left': '0',\n                    'width': '100%',\n                    'height': '100%',\n                    'opacity': index === 0 ? '1' : '0',\n                    'transition': 'opacity 0.5s ease-in-out',\n                    'z-index': index === 0 ? '2' : '1'\n                });\n            });\n            \n            // Set initial header color for first slide\n            updateHeaderColor(0);\n            \n            // Function để chuyển slide\n            const goToSlide = (newIndex) => {\n                if(newIndex === currentSlide) return;\n                \n                console.log('Changing from slide', currentSlide, 'to slide', newIndex);\n                \n                // Fade out current slide\n                $slides.eq(currentSlide).css({\n                    'opacity': '0',\n                    'z-index': '1'\n                });\n                \n                // Fade in new slide\n                $slides.eq(newIndex).css({\n                    'opacity': '1',\n                    'z-index': '2'\n                });\n                \n                currentSlide = newIndex;\n                \n                // *** FIX: TRUYỀN newIndex VÀO updateHeaderColor ***\n                console.log('Updating header for slide index:', newIndex);\n                updateHeaderColor(newIndex);\n            };\n            \n            // Next button click\n            $('.panel-slide .swiper-button-next').off('click').on('click', function(e) {\n                e.preventDefault();\n                console.log('Next button clicked, current slide:', currentSlide);\n                let nextSlide = (currentSlide + 1) % totalSlides;\n                console.log('Going to next slide:', nextSlide);\n                goToSlide(nextSlide);\n            });\n            \n            // Prev button click  \n            $('.panel-slide .swiper-button-prev').off('click').on('click', function(e) {\n                e.preventDefault();\n                console.log('Prev button clicked, current slide:', currentSlide);\n                let prevSlide = (currentSlide - 1 + totalSlides) % totalSlides;\n                console.log('Going to prev slide:', prevSlide);\n                goToSlide(prevSlide);\n            });\n            \n            // Debug: Log tất cả slides và classes\n            console.log('=== DEBUG SLIDES ===');\n            $slides.each(function(index) {\n                console.log(`Slide ${index}:`, $(this).attr('class'));\n            });\n            console.log('==================');\n            \n            // Keyboard navigation\n            $(document).on('keydown', function(e) {\n                if($('.panel-slide').is(':visible')) {\n                    if(e.key === 'ArrowRight') {\n                        $('.panel-slide .swiper-button-next').click();\n                    } else if(e.key === 'ArrowLeft') {\n                        $('.panel-slide .swiper-button-prev').click();\n                    }\n                }\n            });\n            \n            // Touch/swipe support\n            let startX = 0;\n            let startY = 0;\n            let isTouch = false;\n            \n            $container.on('touchstart mousedown', function(e) {\n                isTouch = true;\n                startX = e.type === 'touchstart' ? e.originalEvent.touches[0].clientX : e.clientX;\n                startY = e.type === 'touchstart' ? e.originalEvent.touches[0].clientY : e.clientY;\n            });\n            \n            $container.on('touchend mouseup', function(e) {\n                if(!isTouch) return;\n                \n                let endX = e.type === 'touchend' ? e.originalEvent.changedTouches[0].clientX : e.clientX;\n                let endY = e.type === 'touchend' ? e.originalEvent.changedTouches[0].clientY : e.clientY;\n                \n                let deltaX = endX - startX;\n                let deltaY = endY - startY;\n                \n                // Check if horizontal swipe is stronger than vertical\n                if(Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50) {\n                    if(deltaX > 0) {\n                        // Swipe right - previous slide\n                        $('.panel-slide .swiper-button-prev').click();\n                    } else {\n                        // Swipe left - next slide\n                        $('.panel-slide .swiper-button-next').click();\n                    }\n                }\n                \n                isTouch = false;\n            });\n            \n            console.log('Manual slide system initialized successfully');\n        }\n    };\n\n    \n    HT.popupSwiperSlide = () => {\n\t\tdocument.querySelectorAll(\".popup-gallery\").forEach(popup => {\n\t\t\tvar container = popup.querySelector(\".swiper-container\");\n\t\t\tif (!container) return;\n\t\t\t\n\t\t\tvar slides = container.querySelectorAll('.swiper-slide');\n\t\t\tvar slideCount = slides.length;\n\t\t\t// Chỉ bật loop nếu có ít nhất 2 slides\n\t\t\tvar enableLoop = slideCount >= 2;\n\t\t\t\n\t\t\tvar swiper = new Swiper(container, {\n\t\t\t\tloop: enableLoop,\n\t\t\t\t// autoplay: {\n\t\t\t\t// \tdelay: 2000,\n\t\t\t\t// \tdisableOnInteraction: false,\n\t\t\t\t// },\n\t\t\t\tpagination: {\n\t\t\t\t\tel: '.swiper-pagination',\n\t\t\t\t},\n\t\t\t\tnavigation: {\n\t\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t\t},\n\t\t\t\tthumbs: {\n\t\t\t\t\tswiper: {\n\t\t\t\t\t\tel: popup.querySelector('.swiper-container-thumbs'),\n\t\t\t\t\t\tslidesPerView: 4,\n                        spaceBetween: 10,\n\t\t\t\t\t\tslideToClickedSlide: true,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n   \n\n    HT.loadProject = () => {\n        $(document).on('click', '.project-tab li a', function(e){\n            e.preventDefault()\n            const _this = $(this)\n            const id = _this.attr('data-id')\n            $.ajax({\n\t\t\t\turl: 'ajax/projects', \n\t\t\t\ttype: 'GET', \n\t\t\t\tdata: {id: id}, \n\t\t\t\tdataType: 'json', \n\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tsuccess: function(res) {\n                    console.log(res.html);\n                    \n                    if(res.html.length > 0){\n                        $('.panel-project-body').html(res.html)\n                    }else{\n                        $('.panel-project-body').html('<div class=\"uk-text-center\">Không tìm thấy dữ liệu hợp lệ</div>')\n                    }\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t});\n\n        })\n    }\n\n    HT.renderProductFromProductCatalogue = () => {\n        $(document).on('click','.filter-category li', function(e){\n\t\t\te.preventDefault()\n\t\t\tlet _this = $(this)\n            $('.panel-new-course .btn').hide()\n            $('.filter-category li').removeClass('active');\n            _this.addClass('active')\n            if(_this.hasClass('all')){\n                $('.panel-new-course .panel-body').hide()\n                $('.panel-new-course .btn').show()\n                $('.panel-new-course .all-pd').show()\n                return;\n            }\n            let option = {\n                product_catalogue_id : _this.data('product-catalogue-id')\n            }\n            $.ajax({\n                url: 'ajax/dashboard/findProductObject', \n                type: 'GET', \n                data: option,\n                dataType: 'json', \n                success: function(res){\n                    $('.panel-new-course .panel-body').hide()\n                    $('.panel-new-course .uk-container').append(res.html)\n                },\n                beforeSend: function(){\n\n                },\n            });\n\t\t})\n\t}\n\n    HT.techStaff = () => {\n        var swiper = new Swiper(\".panel-tech-staff .swiper-container\", {\n\t\t\tloop: false,\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t},\n\t\t\tspaceBetween: 25,\n\t\t\tslidesPerView: 2,\n\t\t\tbreakpoints: {\n\t\t\t\t315: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t500: {\n\t\t\t\t  slidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t768: {\n\t\t\t\t  slidesPerView: 3,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 4,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t\t\n\t\t});\n    }\n\n    HT.video = () => {\n        var swiper = new Swiper(\".videos .swiper-container\", {\n\t\t\tloop: false,\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t},\n\t\t\tspaceBetween: 25,\n\t\t\tslidesPerView: 2,\n\t\t\tbreakpoints: {\n\t\t\t\t315: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t500: {\n\t\t\t\t  slidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t768: {\n\t\t\t\t  slidesPerView: 3,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t\t\n\t\t});\n    }\n\n    HT.partner = () => {\n        var swiper = new Swiper(\".panel-partner .swiper-container\", {\n\t\t\tloop: false,\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t},\n\t\t\tspaceBetween: 30,\n\t\t\tslidesPerView: 2,\n\t\t\tbreakpoints: {\n\t\t\t\t315: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t500: {\n\t\t\t\t  slidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t768: {\n\t\t\t\t  slidesPerView: 3,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 6,\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t\t\n\t\t});\n    }\n\n    HT.whyChoose = () => {\n        var swiper = new Swiper(\".panel-why-choose .swiper-container\", {\n\t\t\tloop: false,\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t},\n\t\t\tspaceBetween: 45,\n\t\t\tslidesPerView: 2,\n\t\t\tbreakpoints: {\n\t\t\t\t315: {\n\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t},\n\t\t\t\t500: {\n\t\t\t\t  slidesPerView: 2,\n\t\t\t\t},\n\t\t\t\t768: {\n\t\t\t\t  slidesPerView:2,\n\t\t\t\t},\n\t\t\t\t1280: {\n\t\t\t\t\tslidesPerView: 3\n                }\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t\t\n\t\t});\n    }\n\n    HT.register = () => {\n        $('.register-form').on('submit', function(e){\n            e.preventDefault()\n            let _this = $(this)\n            let option = {\n                'email' : $('#reg_email').val(),\n                'name' : $('#reg_name').val(),\n                'phone' : $('#reg_phone').val(),\n                'message' : $('#reg_message').val() + \"<br>\" + `Khóa học quan tâm: ${$('#reg_product_name').val()}`,\n                '_token' : _token\n            }\n\n            $.ajax({\n                url: 'ajax/contact/saveContact', \n                type: 'POST', \n                data: option,\n                dataType: 'json', \n                beforeSend: function() {\n                    // console.log(1234);\n                    _this.find('.register-btn').html('Đang gửi dữ liệu...').attr('disabled', true)\n                    // return false\n                    \n                },\n                success: function(res) {\n                    let inputValue = ((option.value == 1)?2:1)\n                    if(res.flag == true){\n                        _this.val(inputValue)\n                    }\n                    _this.find('.register-btn').html('Đăng ký ngay').removeAttr('disabled')\n                    alert('Gửi thông tin liên hệ thành công. Chúng tôi sẽ liên hệ lại trong thời gian sớm nhất')\n                    _this[0].reset()\n                  \n                },\n                error: function(jqXHR, textStatus, errorThrown) {\n                  \n                  console.log('Lỗi: ' + textStatus + ' ' + errorThrown);\n                }\n            });\n            \n        })\n    }\n\n    HT.vstepRegister = () => {\n        $('#vstep-register-form, #vstep-register-form-new').on('submit', function(e){\n            e.preventDefault()\n            let _this = $(this)\n            let formId = _this.attr('id')\n            let isNewForm = formId === 'vstep-register-form-new'\n            \n            let name = _this.find('input[name=\"name\"]').val()\n            let phone = _this.find('input[name=\"phone\"]').val()\n            let message = _this.find('textarea[name=\"message\"]').val() || ''\n            let email = _this.find('input[name=\"email\"]').val() || ''\n            let level = _this.find('select[name=\"level\"]').val() || ''\n            \n            let messageEl = _this.find('#form-message')\n            let submitBtn = isNewForm ? _this.find('.btn-submit-new') : _this.find('.btn-submit')\n            \n            // Validation for new form\n            if (isNewForm) {\n                if (!name || !phone) {\n                    messageEl.removeClass('success').addClass('error').text('Vui lòng điền đầy đủ thông tin').show()\n                    return false\n                }\n            } else {\n                // Validation for old form\n                if (!name || !email || !phone || !level) {\n                    messageEl.removeClass('success').addClass('error').text('Vui lòng điền đầy đủ thông tin').show()\n                    return false\n                }\n                \n                // Email validation\n                let emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n                if (!emailRegex.test(email)) {\n                    messageEl.removeClass('success').addClass('error').text('Email không hợp lệ').show()\n                    return false\n                }\n            }\n            \n            // Phone validation\n            if (!/^(0[3|5|7|8|9][0-9]{8})$/.test(phone)) {\n                messageEl.removeClass('success').addClass('error').text('Số điện thoại không hợp lệ (10 chữ số, bắt đầu bằng 0)').show()\n                return false\n            }\n            \n            let option = {\n                'name': name,\n                'phone': phone,\n                'message': isNewForm ? message : ('Trình độ hiện tại: ' + level),\n                '_token': _token\n            }\n            \n            if (!isNewForm && email) {\n                option['email'] = email\n            }\n            \n            $.ajax({\n                url: 'ajax/contact/advise',\n                type: 'POST',\n                data: option,\n                dataType: 'json',\n                beforeSend: function() {\n                    submitBtn.text('Đang gửi...').attr('disabled', true)\n                    messageEl.hide()\n                },\n                success: function(res) {\n                    if (res.status === true || res.code === 10) {\n                        messageEl.removeClass('error').addClass('success').text('Đăng ký thành công! Chúng tôi sẽ liên hệ lại trong thời gian sớm nhất.').show()\n                        _this[0].reset()\n                        setTimeout(function() {\n                            messageEl.fadeOut()\n                        }, 5000)\n                    } else {\n                        messageEl.removeClass('success').addClass('error').text(res.messages || 'Có lỗi xảy ra. Vui lòng thử lại.').show()\n                    }\n                    submitBtn.text(isNewForm ? 'ĐĂNG KÝ NGAY' : 'ĐĂNG KÝ').attr('disabled', false)\n                },\n                error: function(xhr) {\n                    let errorMsg = 'Có lỗi xảy ra. Vui lòng thử lại.'\n                    if (xhr.responseJSON && xhr.responseJSON.messages) {\n                        if (typeof xhr.responseJSON.messages === 'object') {\n                            errorMsg = Object.values(xhr.responseJSON.messages).join(', ')\n                        } else {\n                            errorMsg = xhr.responseJSON.messages\n                        }\n                    }\n                    messageEl.removeClass('success').addClass('error').text(errorMsg).show()\n                    submitBtn.text(isNewForm ? 'ĐĂNG KÝ NGAY' : 'ĐĂNG KÝ').attr('disabled', false)\n                }\n            })\n        })\n    }\n\n    HT.postDetailRegisterForm = () => {\n        $(document).on('submit', '.post-aside .register-form', function(e) {\n            e.preventDefault();\n            let _this = $(this);\n            let form = _this[0];\n            let formData = new FormData(form);\n            formData.append('_token', _token);\n\n            $.ajax({\n                url: 'ajax/contact/advise',\n                type: 'POST',\n                data: formData,\n                processData: false,\n                contentType: false,\n                dataType: 'json',\n                beforeSend: function() {\n                    _this.find('button[type=\"submit\"]').attr('disabled', true).text('Đang gửi...');\n                },\n                success: function(res) {\n                    if (res.status === 422) {\n                        let errors = res.messages;\n                        for (let field in errors) {\n                            let errorMessage = errors[field];\n                            _this.find(`[name=\"${field}\"]`).addClass('is-invalid');\n                            if (!_this.find(`[name=\"${field}\"]`).next('.invalid-feedback').length) {\n                                _this.find(`[name=\"${field}\"]`).after(`<div class=\"invalid-feedback\">${errorMessage}</div>`);\n                            }\n                        }\n                        if (typeof toastr !== 'undefined') {\n                            toastr.error('Vui lòng kiểm tra lại thông tin!', 'Lỗi');\n                        } else {\n                            alert('Vui lòng kiểm tra lại thông tin!');\n                        }\n                    } else if (res.response && res.response.code === 10) {\n                        if (typeof toastr !== 'undefined') {\n                            toastr.success(res.response.message || 'Đăng ký thành công!', 'Thông báo');\n                        } else {\n                            alert(res.response.message || 'Đăng ký thành công!');\n                        }\n                        _this[0].reset();\n                    } else {\n                        if (typeof toastr !== 'undefined') {\n                            toastr.error('Có lỗi xảy ra, vui lòng thử lại!', 'Lỗi');\n                        } else {\n                            alert('Có lỗi xảy ra, vui lòng thử lại!');\n                        }\n                    }\n                },\n                error: function(xhr) {\n                    console.error(\"AJAX error:\", xhr);\n                    if (typeof toastr !== 'undefined') {\n                        toastr.error('Có lỗi xảy ra khi gửi yêu cầu!', 'Lỗi');\n                    } else {\n                        alert('Có lỗi xảy ra khi gửi yêu cầu!');\n                    }\n                },\n                complete: function() {\n                    _this.find('button[type=\"submit\"]').attr('disabled', false).text('Đăng ký ngay');\n                    _this.find('.is-invalid').removeClass('is-invalid');\n                    _this.find('.invalid-feedback').remove();\n                }\n            });\n        });\n    };\n\n    HT.headerRegisterPopup = () => {\n        // Mở popup khi click button đăng ký (tất cả các nút có class open-register-popup hoặc id header-register-btn)\n        $(document).on('click', '#header-register-btn, .open-register-popup', function(e) {\n            e.preventDefault();\n            $('#register-popup').fadeIn(300);\n            $('body').css('overflow', 'hidden');\n        });\n\n        // Đóng popup khi click nút close\n        $(document).on('click', '#register-popup-close, #close-register-popup', function(e) {\n            e.preventDefault();\n            $('#register-popup').fadeOut(300);\n            $('body').css('overflow', '');\n        });\n\n        // Đóng popup khi click overlay\n        $(document).on('click', '.register-popup-overlay', function(e) {\n            if (e.target === this) {\n                $('#register-popup').fadeOut(300);\n                $('body').css('overflow', '');\n            }\n        });\n\n        // Đóng popup khi nhấn ESC\n        $(document).on('keydown', function(e) {\n            if (e.key === 'Escape' && $('#register-popup').is(':visible')) {\n                $('#register-popup').fadeOut(300);\n                $('body').css('overflow', '');\n            }\n        });\n\n        // Submit form trong popup\n        $(document).on('submit', '#header-register-form, #register-popup-form', function(e) {\n            e.preventDefault();\n            let _this = $(this);\n            let formData = new FormData(_this[0]);\n            formData.append('_token', _token);\n\n            $.ajax({\n                url: 'ajax/contact/advise',\n                type: 'POST',\n                data: formData,\n                processData: false,\n                contentType: false,\n                dataType: 'json',\n                beforeSend: function() {\n                    _this.find('button[type=\"submit\"]').attr('disabled', true).text('Đang gửi...');\n                },\n                success: function(res) {\n                    if (res.status === 422) {\n                        let errors = res.messages;\n                        for (let field in errors) {\n                            let errorMessage = errors[field];\n                            _this.find(`[name=\"${field}\"]`).addClass('is-invalid');\n                            if (!_this.find(`[name=\"${field}\"]`).next('.invalid-feedback').length) {\n                                _this.find(`[name=\"${field}\"]`).after(`<div class=\"invalid-feedback\">${errorMessage}</div>`);\n                            }\n                        }\n                        if (typeof toastr !== 'undefined') {\n                            toastr.error('Vui lòng kiểm tra lại thông tin!', 'Lỗi');\n                        } else {\n                            alert('Vui lòng kiểm tra lại thông tin!');\n                        }\n                    } else if (res.response && res.response.code === 10) {\n                        let messageEl = _this.find('.register-popup-message');\n                        let isPopupForm = _this.attr('id') === 'register-popup-form';\n                        if (messageEl.length) {\n                            messageEl.removeClass('error').addClass('success').text('Đăng ký thành công! Chúng tôi sẽ liên hệ lại trong thời gian sớm nhất.').show();\n                        }\n                        if (typeof toastr !== 'undefined') {\n                            toastr.success(res.response.message || 'Đăng ký thành công!', 'Thông báo');\n                        } else if (!messageEl.length) {\n                            alert(res.response.message || 'Đăng ký thành công!');\n                        }\n                        _this[0].reset();\n                        if (isPopupForm) {\n                            setTimeout(function() {\n                                $('#register-popup').fadeOut(300);\n                                $('body').css('overflow', '');\n                                if (messageEl.length) messageEl.hide();\n                            }, 2000);\n                        } else {\n                            $('#register-popup').fadeOut(300);\n                            $('body').css('overflow', '');\n                        }\n                    } else {\n                        let messageEl = _this.find('.register-popup-message');\n                        let errorMsg = 'Có lỗi xảy ra, vui lòng thử lại!';\n                        if (messageEl.length) {\n                            messageEl.removeClass('success').addClass('error').text(errorMsg).show();\n                        }\n                        if (typeof toastr !== 'undefined') {\n                            toastr.error(errorMsg, 'Lỗi');\n                        } else if (!messageEl.length) {\n                            alert(errorMsg);\n                        }\n                    }\n                },\n                error: function(xhr) {\n                    console.error(\"AJAX error:\", xhr);\n                    let messageEl = _this.find('.register-popup-message');\n                    let errorMsg = 'Có lỗi xảy ra khi gửi yêu cầu!';\n                    if (messageEl.length) {\n                        messageEl.removeClass('success').addClass('error').text(errorMsg).show();\n                    }\n                    if (typeof toastr !== 'undefined') {\n                        toastr.error(errorMsg, 'Lỗi');\n                    } else if (!messageEl.length) {\n                        alert(errorMsg);\n                    }\n                },\n                complete: function() {\n                    let isPopupForm = _this.attr('id') === 'register-popup-form';\n                    let submitText = isPopupForm ? 'ĐĂNG KÝ NGAY' : 'Đăng ký ngay';\n                    _this.find('button[type=\"submit\"]').attr('disabled', false).text(submitText);\n                    _this.find('.is-invalid').removeClass('is-invalid');\n                    _this.find('.invalid-feedback').remove();\n                }\n            });\n        });\n    };\n\n    HT.previewVideo = () => {\n        $('.preview-video').on('click', function(e){\n            e.preventDefault()\n            let _this = $(this)\n            let video = JSON.parse(_this.attr('data-video'))\n            \n            // Parse iframe và thêm autoplay\n            let $iframe = $(video)\n            let src = $iframe.attr('src')\n            \n            if (src) {\n                // Thêm autoplay parameter\n                let separator = src.includes('?') ? '&' : '?'\n                let newSrc = src + separator + 'autoplay=1'\n                \n                // Có thể thêm thêm parameters khác\n                newSrc += '&mute=1' // Mute để tránh browser block autoplay\n                \n                $iframe.attr('src', newSrc)\n            }\n            \n            $('.video-feature').html($iframe[0].outerHTML)\n        })\n    }\n\n    HT.filterCourse = () => {\n        \n        $('.p-filter').on('change', function(){\n            let _this = $(this)\n            let productCatalogueId = $('input[name=\"product_catalogue_id[]\"]:checked').map(function() {\n                return $(this).val()\n            }).get();\n            let lectureId = $('input[name=\"lecture_id[]\"]:checked').map(function() {\n                return $(this).val()\n            }).get();\n\n            const filterOptions = {\n                productCatalogueId: productCatalogueId,\n                lectureId: lectureId\n            }\n            \n\n            $.ajax({\n\t\t\t\turl: 'ajax/product/filter', \n\t\t\t\ttype: 'GET', \n\t\t\t\tdata: filterOptions, \n\t\t\t\tdataType: 'json', \n\t\t\t\tsuccess: function(res) {\n                    let html = res.data\n                    let countProduct = res.countProduct\n                    $('.caption strong').html('')\n                    $('.caption strong').html(`${countProduct} sản phẩm`)\n                    $('.product-catalogue .product-list').html(html);\n                    HT.skeleton()\n\t\t\t\t},\n\t\t\t});\n\n        })\n    }\n\n    HT.filterCoursePaginate = () => {\n        // $(document).on('click', '.ajax-paginate .page-link', function(e){\n            \n        //     console.log(1234);\n            \n        //     return false;\n        // });\n    }\n\n    HT.changeStatusChildren = () => {\n        $(document).on('click', '.toggle', function () {\n            let $item = $(this).closest('.filter-list__item'); \n            let $children = $item.find('.children').first(); \n            if ($children.hasClass('active')) {\n                $(this).removeClass('rotate');\n                $children.removeClass('active');\n            } else {\n                $(this).addClass('rotate');\n                $children.addClass('active');\n            }\n        });\n    }\n\n    HT.changeStatusPass = () => {\n        $(document).on('click', '.password-toggle', function(e) {\n            e.preventDefault();\n            const $passwordInput = $(this).siblings('input[type=\"password\"], input[type=\"text\"]');\n            const currentType = $passwordInput.attr('type');\n            const inputId = $passwordInput.attr('id');\n            if (currentType === 'password') {\n                $passwordInput.attr('type', 'text');\n                $(`#eye-${inputId}`).hide();\n                $(`#eye-slash-${inputId}`).show();\n            } else {\n                $passwordInput.attr('type', 'password');\n                $(`#eye-${inputId}`).show();\n                $(`#eye-slash-${inputId}`).hide();\n            }\n        });\n    }\n\n    HT.changeStatusDropdownMenu = () => {\n        $(document).on('click', '.browse-tools .dropdown', function() {\n            let _this = $(this)\n            _this.toggleClass('active')\n            if(_this.hasClass('active')){\n                _this.closest('.browse-tools').find('.dropdown-menu').addClass('open')\n            }else{\n                _this.closest('.browse-tools').find('.dropdown-menu').removeClass('open')\n            }\n        });\n    }\n        \n\n    HT.forgotPassword = () => {\n        $('.forgot-password-form form').on('submit', function() {\n            const btn = $(this).find('button[type=submit]');\n            btn.attr('disabled', true).text('Hãy chờ trong giây lát....');\n        });\n    };\n\n\t$(document).ready(function(){\n        HT.filterCoursePaginate()\n        HT.forgotPassword()\n        HT.changeStatusDropdownMenu()\n        HT.changeStatusPass()\n        HT.changeStatusChildren()\n        HT.whyChoose()\n        HT.partner()\n        HT.video()\n        HT.techStaff ()\n        HT.renderProductFromProductCatalogue ()\n        HT.loadProject();\n        HT.popupSwiperSlide();\n        HT.highlightTocOnScroll();\n        HT.scrollHeading()\n        HT.requestConsult()\n        HT.scroll()\n        HT.advise()\n        HT.addVoucher()\n\t\tHT.removePagination()\n\t\tHT.wow()\n\t\tHT.category()\n\t\tHT.swiperBestSeller()\n\t\tHT.swiperAsideFeature()\n\t\tHT.productGallery()\n\t\t\n\t\t/* CORE JS */\n        HT.swiper()\n\t\tHT.niceSelect()\t\t\n\t\tHT.select2()\n\t\tHT.loadDistribution()\n\t\tHT.wrapTable()\n        HT.service()\n        HT.skeleton()\n\n        /** ACTION  */\n        HT.register()\n        HT.vstepRegister()\n        HT.previewVideo()\n        HT.filterCourse()\n        HT.serviceSwiper()\n        HT.vstepServiceSwiper()\n        HT.coursesSwiper()\n        HT.feedbackSwiper()\n        HT.partnersSwiper()\n        HT.realImagesSwiper()\n        HT.lecturersSwiper()\n        HT.postDetailRegisterForm()\n        HT.headerRegisterPopup()\n\n        // $(window).on('load', function() {\n        //     HT.swiper();\n        // });\n\t});\n\n})(jQuery);\n\n\n\nwindow.addCommas = (nStr) => { \n    nStr = String(nStr);\n    nStr = nStr.replace(/\\./gi, \"\");\n    let str ='';\n    for (let i = nStr.length; i > 0; i -= 3){\n        let a = ( (i-3) < 0 ) ? 0 : (i-3);\n        str= nStr.slice(a,i) + '.' + str;\n    }\n    str= str.slice(0,str.length-1);\n    return str;\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    // Lựa chọn tất cả các ảnh cần lazy load\n    const lazyImages = document.querySelectorAll('.lazy-image');\n    \n    // Tạo Intersection Observer\n    const observer = new IntersectionObserver((entries, observer) => {\n        entries.forEach(entry => {\n            // Khi phần tử trở nên visible\n            if (entry.isIntersecting) {\n                const img = entry.target;\n                // Lấy nguồn ảnh từ thuộc tính data-src\n                const src = img.dataset.src;\n                \n                // Tạo ảnh mới và thiết lập trình xử lý sự kiện onload\n                const newImg = new Image();\n                newImg.onload = function() {\n                    // Khi ảnh đã tải xong, gán src và thêm class loaded\n                    img.src = src;\n                    img.classList.add('loaded');\n                    \n                    // Ẩn skeleton loading\n                    const parent = img.closest('.image');\n                    if (parent) {\n                        const skeleton = parent.querySelector('.skeleton-loading');\n                        if (skeleton) {\n                            skeleton.style.display = 'none';\n                        }\n                    }\n                    \n                    // Ngừng quan sát phần tử này\n                    observer.unobserve(img);\n                };\n                \n                // Bắt đầu tải ảnh\n                newImg.src = src;\n            }\n        });\n    }, {\n        // Tùy chọn: thiết lập ngưỡng và root\n        rootMargin: '0px 0px 50px 0px', // Tải trước ảnh khi chúng cách 50px từ viewport\n        threshold: 0.1 // Kích hoạt khi ít nhất 10% của ảnh trở nên visible\n    });\n    \n    // Quan sát mỗi ảnh\n    lazyImages.forEach(img => {\n        observer.observe(img);\n    });\n});"],"names":["$","HT","_token","setting","option","slideContainer","slides","slideCount","enableLoop","serviceContainer","coursesContainer","feedbackContainer","realImagesContainer","lecturersContainer","partnersContainer","wow","box","_this","res","lazyImages","observer","entries","entry","img","src","newImg","parent","skeleton","width","e","errors","field","errorMessage","event","phone","href","targetId","targetElement","$targetElement","scrollTop","elementTop","elementBottom","slideIndex","updateHeaderBasedOnSlide","currentSlideIndex","$slides","$header","$currentSlide","currentSlide","totalSlides","$container","$wrapper","updateHeaderColor","index","goToSlide","newIndex","nextSlide","prevSlide","startX","startY","isTouch","endX","endY","deltaX","deltaY","popup","container","id","inputValue","jqXHR","textStatus","errorThrown","isNewForm","name","message","email","level","messageEl","submitBtn","xhr","errorMsg","form","formData","isPopupForm","submitText","video","$iframe","separator","newSrc","productCatalogueId","lectureId","filterOptions","html","countProduct","$children","$passwordInput","currentType","inputId","nStr","str","i","a"],"mappings":"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"}